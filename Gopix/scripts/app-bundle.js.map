{"version":3,"sources":["app.js","environment.js","main.js","components/board.js","components/footer.js","components/gopix.js","components/header.js","components/start.js","resources/index.js","resources/binding-behaviors/keystrokes.js"],"names":["App","eventAggregator","handleKeyInput","event","keycode","keyCode","which","listen2keys","keys","left","ea","publish","up","right","down","subscribe","response","type","message","scale","touchEvent","handleSwipe","thresHold","startX","startY","dX","endX","dY","endY","vertical","Math","abs","horizontal","activate","self","document","addEventListener","on","originalEvent","touches","clientX","clientY","changedTouches","deactivate","removeEventListener","off","getScale","screenWidth","width","boardWidth","min","floor","setSize","css","attached","debug","testing","configure","Promise","config","longStackTraces","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","BoardCustomElement","player","logoClass","FooterCustomElement","showHelpButton","showHideButton","showHelpText","toggleHelp","GopixCustomElement","move","reset","toplay","oponent","game","maxX","maxY","maxStrength","gainStrength","playerStrength","gopix","neighbours","pixStyle","pix","blackCompensation","name","strength","direction","step","switchSides","addFruit","getNewPixes","dx","dy","newPixes","abortMove","y","x","thisPix","newX","newY","targetPix","newStrength","energy","newPix","push","copyPix","updatePix","$pix","attr","text","weakenPixes","$row","children","removeClass","addClass","addNewPixes","i","length","maxEnergy","fruit","ceil","random","Object","assign","console","log","countPixes","total","forEach","row","pixel","indexOf","withinBounds","xy","area","killIsolatedOponentPixes","clearMarks","marked","markPixel","position","findFirstOponentPix","firstOponentPix","result","firstOponentRow","find","startRow","findIndex","startPix","getAdjacentArea","startPos","countAdjacentPixes","neighbour","getAreas","areas","totalOponentPixes","areaCount","killArea","killSmallestAreas","smallestArea","smallestAreaStrength","thisAreaStrength","splice","surrounded","surrounders","color","killEnclosedSingleOponent","pixels","canMove","clear","pixCount","logArray","str","arr","arrr","slice","table","emptyBoard","setup","HeaderCustomElement","keepMoving","setTitleText","getTitleData","titleData","characters","titleString","dec2bin","dec","toString","substr","titleSplit","split","character","charObject","charData","data","charName","col","binaryCol","pop","StartCustomElement","showStartButton","startGame","Keystrokes","myKeypressCallback","keypressInput","bind","window","e"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;QAUaA,cAAAA,cADZ;AAGG,qBAAYC,eAAZ,EAA6B;AAAA;;AAAA;;AAAA,iBAuF7BC,cAvF6B,GAuFZ,UAACC,KAAD,EAAW;AACxB,oBAAIC,UAAUD,MAAME,OAAN,IAAiBF,MAAMG,KAArC;AACA,oBAAI,MAAKC,WAAT,EAAsB;AAClB,4BAAQH,OAAR;AACI,6BAAK,MAAKI,IAAL,CAAUC,IAAf;AACI,kCAAKC,EAAL,CAAQC,OAAR,CAAgB,YAAhB,EAA8B,MAA9B;AACA;AACJ,6BAAK,MAAKH,IAAL,CAAUI,EAAf;AACI,kCAAKF,EAAL,CAAQC,OAAR,CAAgB,YAAhB,EAA8B,IAA9B;AACA;AACJ,6BAAK,MAAKH,IAAL,CAAUK,KAAf;AACI,kCAAKH,EAAL,CAAQC,OAAR,CAAgB,YAAhB,EAA8B,OAA9B;AACA;AACJ,6BAAK,MAAKH,IAAL,CAAUM,IAAf;AACI,kCAAKJ,EAAL,CAAQC,OAAR,CAAgB,YAAhB,EAA8B,MAA9B;AACA;AACJ;AACI,kCAAKD,EAAL,CAAQC,OAAR,CAAgB,YAAhB,EAA8B,SAA9B;AAdR;AAgBH;AACJ,aA3G4B;;AACzB,iBAAKD,EAAL,GAAUT,eAAV;AACA,iBAAKM,WAAL,GAAmB,KAAnB;AACA,iBAAKG,EAAL,CAAQK,SAAR,CAAkB,MAAlB,EAA0B,oBAAY;AAClC,wBAAQC,SAASC,IAAjB;AACI,yBAAK,OAAL;AACI,8BAAKV,WAAL,GAAmB,IAAnB;AACA;AACJ,yBAAK,KAAL;AACI,8BAAKA,WAAL,GAAmB,KAAnB;AACA;AACJ;;AAPJ;AAUH,aAXD;AAYA,iBAAKW,OAAL,GAAe,eAAf;AACA,iBAAKV,IAAL,GAAY;AACR,wBAAQ,EADA;AAER,sBAAM,EAFE;AAGR,yBAAS,EAHD;AAIR,wBAAQ;AAJA,aAAZ;AAMA,iBAAKW,KAAL,GAAa,EAAb;AACA,iBAAKC,UAAL,GAAkB;AACd,0BAAW,IADG;AAEd,0BAAW,IAFG;AAGd,wBAAS,IAHK;AAId,wBAAS;AAJK,aAAlB;AAMH;;sBAEDC,qCAAc;AACV,gBAAIC,YAAY,EAAhB;AACA,gBAAIC,SAAS,KAAKH,UAAL,CAAgBG,MAA7B;AACA,gBAAIC,SAAS,KAAKJ,UAAL,CAAgBI,MAA7B;AACA,gBAAIC,KAAK,KAAKL,UAAL,CAAgBM,IAAhB,GAAuB,KAAKN,UAAL,CAAgBG,MAAhD;AACA,gBAAII,KAAK,KAAKP,UAAL,CAAgBQ,IAAhB,GAAuB,KAAKR,UAAL,CAAgBI,MAAhD;AACA,gBAAIK,WAAYC,KAAKC,GAAL,CAASN,EAAT,IAAeK,KAAKC,GAAL,CAASJ,EAAT,CAA/B;AACA,gBAAIK,aAAcF,KAAKC,GAAL,CAASN,EAAT,IAAeK,KAAKC,GAAL,CAASJ,EAAT,CAAjC;AACA,gBAAIlB,OAAQgB,KAAK,CAACH,SAAN,IAAmBQ,KAAKC,GAAL,CAASJ,EAAT,IAAeL,SAA9C;AACA,gBAAIT,QAASY,KAAKH,SAAL,IAAkBQ,KAAKC,GAAL,CAASJ,EAAT,IAAeL,SAA9C;AACA,gBAAIV,KAAMe,KAAK,CAACL,SAAN,IAAmBQ,KAAKC,GAAL,CAASN,EAAT,IAAeH,SAA5C;AACA,gBAAIR,OAAQa,KAAKL,SAAL,IAAkBQ,KAAKC,GAAL,CAASN,EAAT,IAAeH,SAA7C;AACA,gBAAIO,QAAJ,EAAc;AACV,oBAAIjB,EAAJ,EAAQ;AACJ,yBAAKF,EAAL,CAAQC,OAAR,CAAgB,YAAhB,EAA8B,IAA9B;AACH;AACD,oBAAIG,IAAJ,EAAU;AACN,yBAAKJ,EAAL,CAAQC,OAAR,CAAgB,YAAhB,EAA8B,MAA9B;AACH;AACJ;AACD,gBAAIqB,UAAJ,EAAgB;AACZ,oBAAIvB,IAAJ,EAAU;AACN,yBAAKC,EAAL,CAAQC,OAAR,CAAgB,YAAhB,EAA8B,MAA9B;AACH;AACD,oBAAIE,KAAJ,EAAW;AACP,yBAAKH,EAAL,CAAQC,OAAR,CAAgB,YAAhB,EAA8B,OAA9B;AACH;AACJ;AACJ;;sBAEDsB,+BAAW;AACP,gBAAIC,OAAO,IAAX;;AAEAC,qBAASC,gBAAT,CAA0B,SAA1B,EAAqCF,KAAKhC,cAA1C,EAA0D,IAA1D;;AAEA,kCAAE,MAAF,EAAUmC,EAAV,CAAa,YAAb,EAA2B,UAASlC,KAAT,EAAe;AACtC,oBAAI+B,KAAK3B,WAAT,EAAsB;AAClB2B,yBAAKd,UAAL,CAAgBG,MAAhB,GAAyBpB,MAAMmC,aAAN,CAAoBC,OAApB,CAA4B,CAA5B,EAA+BC,OAAxD;AACAN,yBAAKd,UAAL,CAAgBI,MAAhB,GAAyBrB,MAAMmC,aAAN,CAAoBC,OAApB,CAA4B,CAA5B,EAA+BE,OAAxD;AACH;AACJ,aALD;AAMA,kCAAE,MAAF,EAAUJ,EAAV,CAAa,UAAb,EAAyB,UAASlC,KAAT,EAAe;AACpC,oBAAI+B,KAAK3B,WAAT,EAAsB;AAClB2B,yBAAKd,UAAL,CAAgBM,IAAhB,GAAuBvB,MAAMmC,aAAN,CAAoBI,cAApB,CAAmC,CAAnC,EAAsCF,OAA7D;AACAN,yBAAKd,UAAL,CAAgBQ,IAAhB,GAAuBzB,MAAMmC,aAAN,CAAoBI,cAApB,CAAmC,CAAnC,EAAsCD,OAA7D;AACAP,yBAAKb,WAAL;AACH;AACJ,aAND;AAOH;;sBAEDsB,mCAAa;AACTR,qBAASS,mBAAT,CAA6B,SAA7B,EAAwC,KAAK1C,cAA7C;AACA,kCAAE,MAAF,EAAU2C,GAAV,CAAc,YAAd;AACA,kCAAE,MAAF,EAAUA,GAAV,CAAc,UAAd;AACH;;sBAwBDC,+BAAW;AACP,gBAAIC,cAAc,sBAAE,MAAF,EAAUC,KAAV,EAAlB;AACA,gBAAIC,aAAa,sBAAE,QAAF,EAAYD,KAAZ,EAAjB;AACA,gBAAI7B,QAAQW,KAAKoB,GAAL,CAASH,cAAcE,UAAvB,EAAmC,CAAnC,CAAZ;;AAEA9B,oBAAQW,KAAKqB,KAAL,CAAWhC,QAAQ,EAAnB,IAAyB,EAAjC;AACA,iBAAKA,KAAL,GAAaA,KAAb;AACA,mBAAO;AACH,mCAAmB,KADhB;AAEH,qCAAqB,WAAWA,KAAX,GAAmB,IAAnB,GAA0BA,KAA1B,GAAkC,GAFpD;AAGH,iCAAiB,WAAWA,KAAX,GAAmB,IAAnB,GAA0BA,KAA1B,GAAkC,GAHhD;AAIH,6BAAa,WAAWA,KAAX,GAAmB,IAAnB,GAA0BA,KAA1B,GAAkC;AAJ5C,aAAP;AAMH;;sBAEDiC,6BAAU;AACN,iBAAKjC,KAAL,GAAa,KAAK2B,QAAL,EAAb;AACA,kCAAE,OAAF,EAAWO,GAAX,CAAe,KAAKlC,KAApB;AACH;;sBAEDmC,+BAAW;AACP,iBAAKF,OAAL;AACAjB,qBAASC,gBAAT,CAA0B,QAA1B,EAAoC,KAAKgB,OAAzC,EAAkD,IAAlD;AACH;;;;;;;;;;;oBChJU;AACbG,WAAO,IADM;AAEbC,aAAS;AAFI;;;;;;;;UCUCC,YAAAA;;;;;;;;;;AAPhBC,UAAQC,MAAR,CAAe;AACbC,qBAAiB,sBAAYL,KADhB;AAEbM,cAAU;AACRC,wBAAkB;AADV;AAFG,GAAf;;AAOO,WAASL,SAAT,CAAmBM,OAAnB,EAA4B;AACjCA,YAAQC,GAAR,CACGC,qBADH,GAEGC,OAFH,CAEW,WAFX;;AAIA,QAAI,sBAAYX,KAAhB,EAAuB;AACrBQ,cAAQC,GAAR,CAAYG,kBAAZ;AACD;;AAED,QAAI,sBAAYX,OAAhB,EAAyB;AACvBO,cAAQC,GAAR,CAAYI,MAAZ,CAAmB,iBAAnB;AACD;;AAEDL,YAAQM,KAAR,GAAgBC,IAAhB,CAAqB;AAAA,aAAMP,QAAQQ,OAAR,EAAN;AAAA,KAArB;AACD;;;;;;;;;;;;;;;;;;QCfYC,6BAAAA,6BADZ;AAGG,oCAAYvE,eAAZ,EAA6B;AAAA;;AAAA;;AACzB,iBAAKS,EAAL,GAAUT,eAAV;AACA,iBAAKwE,MAAL,GAAc,OAAd;AACA,iBAAK/D,EAAL,CAAQK,SAAR,CAAkB,QAAlB,EAA4B,oBAAY;AACpC,sBAAK0D,MAAL,GAAczD,QAAd;AACH,aAFD;AAGH;;qCAED0D,iCAAY;AACR,mBAAO,KAAKD,MAAZ;AACH;;;;;;;;;;;;;;;;;;;QChBQE,8BAAAA;AAET,qCAAY1E,eAAZ,EAA6B;AAAA;;AACzB,iBAAK2E,cAAL,GAAsB,IAAtB;AACA,iBAAKC,cAAL,GAAsB,KAAtB;AACA,iBAAKC,YAAL,GAAoB,KAApB;AACH;;sCAEDC,mCAAa;AACT,iBAAKH,cAAL,GAAsB,CAAC,KAAKA,cAA5B;AACA,iBAAKC,cAAL,GAAsB,CAAC,KAAKA,cAA5B;AACA,iBAAKC,YAAL,GAAoB,CAAC,KAAKA,YAA1B;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCPQE,6BAAAA,6BADZ;AAGG,oCAAY/E,eAAZ,EAA6B;AAAA;;AAAA;;AAEzB,iBAAKS,EAAL,GAAUT,eAAV;;AAEA,iBAAKS,EAAL,CAAQK,SAAR,CAAkB,YAAlB,EAAgC,oBAAY;AACxC,sBAAKkE,IAAL,CAAUjE,QAAV;AACH,aAFD;AAGA,iBAAKN,EAAL,CAAQK,SAAR,CAAkB,MAAlB,EAA0B,oBAAY;AAClC,wBAAQC,SAASC,IAAjB;AACI,yBAAK,OAAL;AAEI,8BAAKiE,KAAL;AACA;AACJ;;AALJ;AAQH,aATD;;AAWA,iBAAKC,MAAL,GAAc,OAAd;AACA,iBAAKC,OAAL,GAAe,OAAf;AACA,iBAAKC,IAAL,GAAY,KAAZ;;AAEA,iBAAKC,IAAL,GAAY,EAAZ;AACA,iBAAKC,IAAL,GAAY,EAAZ;;AAEA,iBAAKC,WAAL,GAAmB,EAAnB;AACA,iBAAKC,YAAL,GAAoB,CAApB;;AAEA,iBAAKC,cAAL,GAAsB;AAClB,yBAAS,CADS;AAElB,yBAAS;AAFS,aAAtB;;AAKA,iBAAKC,KAAL,GAAa,EAAb;;AAEA,iBAAKC,UAAL,GAAkB,CACd,CAAC,CAAD,EAAI,CAAC,CAAL,CADc,EAEd,CAAC,CAAD,EAAI,CAAJ,CAFc,EAGd,CAAC,CAAD,EAAI,CAAJ,CAHc,EAId,CAAC,CAAC,CAAF,EAAK,CAAL,CAJc,CAAlB;AAOH;;qCAEDC,6BAASC,KAAK;AACV,gBAAIC,oBAAqBD,IAAIE,IAAJ,KAAa,OAAd,GAAyB,CAAzB,GAA6B,CAArD;AACA,mBAAO;AACH,+BAAgB,KAAKF,IAAIG,QAAT,GAAoBF,iBAArB,GAA0C;AADtD,aAAP;AAGH;;qCAEDd,qBAAKiB,WAAW;AACZ,oBAAQA,SAAR;AACI,qBAAK,MAAL;AACI,yBAAKC,IAAL,CAAU,CAAC,CAAX,EAAc,CAAd;AACA;AACJ,qBAAK,OAAL;AACI,yBAAKA,IAAL,CAAU,CAAV,EAAa,CAAb;AACA;AACJ,qBAAK,IAAL;AACI,yBAAKA,IAAL,CAAU,CAAV,EAAa,CAAC,CAAd;AACA;AACJ,qBAAK,MAAL;AACI,yBAAKA,IAAL,CAAU,CAAV,EAAa,CAAb;AACA;AACJ;AAbJ;AAeH;;qCAEDC,qCAAc;AACV,iBAAKC,QAAL;AADU,uBAEoB,CAAC,KAAKlB,MAAN,EAAc,KAAKC,OAAnB,CAFpB;AAET,iBAAKA,OAFI;AAEK,iBAAKD,MAFV;AAGb;;qCAEDmB,mCAAYC,IAAIC,IAAI;AAChB,gBAAIC,WAAW,EAAf;AACA,gBAAIC,YAAY,KAAhB;AACA,iBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,KAAKpB,IAAzB,EAA+BoB,GAA/B,EAAoC;AAChC,qBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,KAAKtB,IAAzB,EAA+BsB,GAA/B,EAAoC;AAChC,wBAAIC,UAAU,KAAKlB,KAAL,CAAWgB,CAAX,EAAcC,CAAd,CAAd;AACA,wBAAIE,OAAOF,IAAIL,EAAf;AACA,wBAAIQ,OAAOJ,IAAIH,EAAf;AACA,wBAAI,EAAEM,OAAO,CAAP,IAAYA,QAAQ,KAAKxB,IAAzB,IAAiCyB,OAAO,CAAxC,IAA6CA,QAAQ,KAAKxB,IAA5D,CAAJ,EAAuE;AACnE,4BAAIyB,YAAY,KAAKrB,KAAL,CAAWoB,IAAX,EAAiBD,IAAjB,CAAhB;AACA,4BAAID,QAAQb,IAAR,KAAiB,KAAKb,MAA1B,EAAkC;AAC9B,gCAAI6B,UAAUhB,IAAV,KAAmB,KAAKb,MAA5B,EAAoC;AAChC,oCAAI6B,UAAUhB,IAAV,IAAkB,OAAtB,EAA+B;AAC3B,wCAAIiB,cAAcJ,QAAQZ,QAAR,GAAmBe,UAAUE,MAA7B,GAAsC,KAAKzB,YAA7D;AACAwB,kDAAcA,cAAc,KAAKzB,WAAnB,GAAiC,KAAKA,WAAtC,GAAoDyB,WAAlE;AACA,wCAAIE,SAAS,CAACL,IAAD,EAAOC,IAAP,EAAaE,WAAb,CAAb;AACAR,6CAASW,IAAT,CAAcD,MAAd;AACH,iCALD,MAKO;AACH,wCAAIN,QAAQZ,QAAR,GAAmBe,UAAUf,QAAjC,EAA2C;AACvC,4CAAIgB,eAAcJ,QAAQZ,QAAR,GAAmBe,UAAUf,QAA7B,GAAwC,KAAKR,YAA/D;AACAwB,uDAAcA,eAAc,KAAKzB,WAAnB,GAAiC,KAAKA,WAAtC,GAAoDyB,YAAlE;AACA,4CAAIE,UAAS,CAACL,IAAD,EAAOC,IAAP,EAAaE,YAAb,CAAb;AACAR,iDAASW,IAAT,CAAcD,OAAd;AACH;AACJ;AAEJ;AACJ;AACJ;AACJ;AACJ;AACD,mBAAOV,QAAP;AACH;;qCAEDY,2BAAQvB,KAAK;AACT,mBAAO;AACH,wBAAQA,IAAIE,IADT;AAEH,4BAAYF,IAAIG;AAFb,aAAP;AAIH;;qCAEDqB,+BAAUC,MAAMzB,KAAK;AACjByB,iBAAKlE,GAAL,CAAS,KAAKwC,QAAL,CAAcC,GAAd,CAAT;AACAyB,iBAAKC,IAAL,CAAU,eAAV,EAA2B1B,IAAIG,QAA/B;AACAsB,iBAAKE,IAAL,CAAU3B,IAAIG,QAAd;AACH;;qCAEDyB,qCAAc;AAEV,iBAAK,IAAIf,IAAI,CAAb,EAAgBA,IAAI,KAAKpB,IAAzB,EAA+BoB,GAA/B,EAAoC;AAChC,qBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,KAAKtB,IAAzB,EAA+BsB,GAA/B,EAAoC;AAChC,wBAAIC,UAAU,KAAKQ,OAAL,CAAa,KAAK1B,KAAL,CAAWgB,CAAX,EAAcC,CAAd,CAAb,CAAd;AACA,wBAAIC,QAAQb,IAAR,KAAiB,KAAKb,MAA1B,EAAkC;AAC9B,4BAAIwC,OAAO,sBAAE,sBAAE,MAAF,EAAUhB,CAAV,CAAF,CAAX;AACA,4BAAIY,OAAO,sBAAEI,KAAKC,QAAL,CAAc,MAAd,EAAsBhB,CAAtB,CAAF,CAAX;AACA,4BAAIC,QAAQZ,QAAR,GAAmB,CAAvB,EAA0B;AACtBY,oCAAQZ,QAAR;AACA,iCAAKqB,SAAL,CAAeC,IAAf,EAAqBV,OAArB;AACH,yBAHD,MAGO;AACHA,oCAAQb,IAAR,GAAe,OAAf;AACAuB,iCAAKM,WAAL,CAAiB,aAAjB,EAAgCC,QAAhC,CAAyC,OAAzC;AACAP,iCAAKC,IAAL,CAAU,eAAV,EAA2B,CAA3B;AACH;AACJ;AACD,yBAAK7B,KAAL,CAAWgB,CAAX,EAAcC,CAAd,IAAmB,KAAKS,OAAL,CAAaR,OAAb,CAAnB;AACH;AACJ;AACJ;;qCAEDkB,mCAAYtB,UAAU;AAClB,iBAAK,IAAIuB,IAAI,CAAb,EAAgBA,IAAIvB,SAASwB,MAA7B,EAAqCD,GAArC,EAA0C;AACtC,oBAAIb,SAAS;AACT,4BAAQ,KAAKhC,MADJ;AAET,gCAAYsB,SAASuB,CAAT,EAAY,CAAZ;AAFH,iBAAb;AAIA,qBAAKrC,KAAL,CAAWc,SAASuB,CAAT,EAAY,CAAZ,CAAX,EAA2BvB,SAASuB,CAAT,EAAY,CAAZ,CAA3B,IAA6C,KAAKX,OAAL,CAAaF,MAAb,CAA7C;AACA,oBAAIQ,OAAO,sBAAE,sBAAE,MAAF,EAAUlB,SAASuB,CAAT,EAAY,CAAZ,CAAV,CAAF,CAAX;AACA,oBAAIT,OAAO,sBAAEI,KAAKC,QAAL,CAAc,MAAd,EAAsBnB,SAASuB,CAAT,EAAY,CAAZ,CAAtB,CAAF,CAAX;AACAT,qBAAKM,WAAL,CAAiB,mBAAjB,EAAsCC,QAAtC,CAA+C,KAAK3C,MAApD;AACA,qBAAKmC,SAAL,CAAeC,IAAf,EAAqBJ,MAArB;AACH;AACJ;;qCAEDd,+BAAW;AACP,gBAAI6B,YAAY,CAAhB;AACA,gBAAIC,QAAQ;AACR,wBAAQ,OADA;AAER,4BAAY,CAFJ;AAGR,0BAAUrG,KAAKsG,IAAL,CAAU,IAAItG,KAAKuG,MAAL,EAAd;AAHF,aAAZ;AAKA,gBAAI1B,IAAI7E,KAAKqB,KAAL,CAAW,KAAKwC,KAAL,CAAWsC,MAAX,GAAoBnG,KAAKuG,MAAL,EAA/B,CAAR;AACA,gBAAIzB,IAAI9E,KAAKqB,KAAL,CAAW,KAAKwC,KAAL,CAAW,CAAX,EAAcsC,MAAd,GAAuBnG,KAAKuG,MAAL,EAAlC,CAAR;AACA,iBAAK1C,KAAL,CAAWgB,CAAX,EAAcC,CAAd,IAAmB0B,OAAOC,MAAP,CAAc,EAAd,EAAkB,KAAK5C,KAAL,CAAWgB,CAAX,EAAcC,CAAd,CAAlB,EAAoCuB,KAApC,CAAnB;AACAK,oBAAQC,GAAR,CAAYN,KAAZ;AACH;;qCAEDO,iCAAWjE,QAAQ;AACf,gBAAIvC,OAAO,IAAX;AACA,gBAAIyG,QAAQ,EAAZ;AACAzG,iBAAKyD,KAAL,CAAWiD,OAAX,CAAmB,UAASC,GAAT,EAAc;AAC7BA,oBAAID,OAAJ,CAAY,UAASE,KAAT,EAAgB;AACxB,wBAAIA,MAAM9C,IAAN,KAAevB,MAAnB,EAA2B;AACvBkE,8BAAMvB,IAAN,CAAW,CAACyB,IAAIE,OAAJ,CAAYD,KAAZ,CAAD,EAAqB5G,KAAKyD,KAAL,CAAWoD,OAAX,CAAmBF,GAAnB,CAArB,CAAX;AACH;AACJ,iBAJD;AAKH,aAND;AAOA,mBAAOF,KAAP;AACH;;qCAEDK,qCAAaC,IAAI;AACb,mBAAOA,GAAG,CAAH,KAAS,CAAT,IAAcA,GAAG,CAAH,KAAS,CAAvB,IAA4BA,GAAG,CAAH,IAAQ,KAAK3D,IAAzC,IAAiD2D,GAAG,CAAH,IAAQ,KAAK1D,IAArE;AACH;;qCAEDU,6BAASiD,MAAM;AACX,gBAAIhH,OAAO,IAAX;AACA,gBAAI+D,WAAW,CAAf;AACAiD,iBAAKN,OAAL,CAAa,UAASK,EAAT,EAAa;AACtBhD,4BAAY/D,KAAKyD,KAAL,CAAWsD,GAAG,CAAH,CAAX,EAAkBA,GAAG,CAAH,CAAlB,EAAyBhD,QAArC;AACH,aAFD;AAGA,mBAAOA,QAAP;AACH;;qCAEDkD,+DAA2B;AACvB,gBAAIjH,OAAO,IAAX;;AAEA,qBAASkH,UAAT,GAAsB;AAClBlH,qBAAKyD,KAAL,CAAWiD,OAAX,CAAmB,UAASC,GAAT,EAAc;AAC7BA,wBAAID,OAAJ,CAAY,UAASE,KAAT,EAAgB;AACxBA,8BAAMO,MAAN,GAAe,KAAf;AACH,qBAFD;AAGH,iBAJD;AAKH;;AAED,qBAASC,SAAT,CAAmBC,QAAnB,EAA6B;AACzBrH,qBAAKyD,KAAL,CAAW4D,SAAS,CAAT,CAAX,EAAwBA,SAAS,CAAT,CAAxB,EAAqCF,MAArC,GAA8C,IAA9C;AAIH;;AAED,qBAASG,mBAAT,GAA+B;AAC3B,yBAASC,eAAT,CAAyB3D,GAAzB,EAA8B;AAC1B,wBAAI4D,SAAU5D,IAAIE,IAAJ,KAAa9D,KAAKkD,OAAlB,IAA6B,CAACU,IAAIuD,MAAhD;AACA,2BAAOK,MAAP;AACH;;AAED,yBAASC,eAAT,CAAyBd,GAAzB,EAA8B;AAC1B,wBAAIa,SAASb,IAAIe,IAAJ,CAASH,eAAT,CAAb;AACA,2BAAOC,MAAP;AACH;AACD,oBAAIG,WAAW3H,KAAKyD,KAAL,CAAWmE,SAAX,CAAqBH,eAArB,CAAf;AACA,oBAAII,WAAW,CAAC,CAAhB;AACA,oBAAIF,WAAW,CAAC,CAAhB,EAAmB;AACfE,+BAAW7H,KAAKyD,KAAL,CAAWkE,QAAX,EAAqBC,SAArB,CAA+BL,eAA/B,CAAX;AACH;;AAED,uBAAO,CAACM,QAAD,EAAWF,QAAX,CAAP;AACH;;AAED,qBAASG,eAAT,CAAyBC,QAAzB,EAAmC;AAC/B,oBAAIf,OAAO,CAACe,QAAD,CAAX;AACA,sCAAE,MAAM/H,KAAKiD,MAAb,EAAqB0C,WAArB,CAAiC,KAAjC;AACA,sCAAE,QAAF,EAAYA,WAAZ,CAAwB,KAAxB;;AAEA,yBAASqC,kBAAT,CAA4BD,QAA5B,EAAsC;AAClC/H,yBAAK0D,UAAL,CAAgBgD,OAAhB,CAAwB,UAASuB,SAAT,EAAoB;AACxC,4BAAIlB,KAAK,CAACgB,SAAS,CAAT,IAAcE,UAAU,CAAV,CAAf,EAA6BF,SAAS,CAAT,IAAcE,UAAU,CAAV,CAA3C,CAAT;AACA,4BAAIjI,KAAK8G,YAAL,CAAkBC,EAAlB,CAAJ,EAA2B;AACvB,gCAAIpC,UAAU3E,KAAKyD,KAAL,CAAWsD,GAAG,CAAH,CAAX,EAAkBA,GAAG,CAAH,CAAlB,CAAd;AACA,gCAAIpC,QAAQb,IAAR,KAAiB9D,KAAKkD,OAAtB,IAAiC,CAACyB,QAAQwC,MAA9C,EAAsD;AAClDC,0CAAUL,EAAV;AACAC,qCAAK9B,IAAL,CAAU6B,EAAV;AACAiB,mDAAmBjB,EAAnB;AACH;AACJ;AACJ,qBAVD;AAWH;;AAEDK,0BAAUW,QAAV;AACAC,mCAAmBD,QAAnB;;;AAGA,uBAAOf,IAAP;AACH;;AAED,qBAASkB,QAAT,GAAoB;AAChB,oBAAIC,QAAQ,EAAZ;AACA,oBAAIC,oBAAoBpI,KAAKwG,UAAL,CAAgBxG,KAAKkD,OAArB,CAAxB;AACA,oBAAIqE,kBAAkBD,qBAAtB;AACA,oBAAIC,gBAAgB,CAAhB,IAAqB,CAAC,CAA1B,EAA6B;AACzB,wBAAIP,OAAOc,gBAAgBP,eAAhB,CAAX;AACAY,4BAAQ,CAACnB,IAAD,CAAR;AACA,wBAAIqB,YAAYrB,KAAKjB,MAArB;AACA,2BAAOsC,YAAYD,kBAAkBrC,MAArC,EAA6C;AACzCwB,0CAAkBD,qBAAlB;AACAN,+BAAOc,gBAAgBP,eAAhB,CAAP;AACAY,8BAAMjD,IAAN,CAAW8B,IAAX;AACAqB,qCAAarB,KAAKjB,MAAlB;AACH;AACJ;AACD,uBAAOoC,KAAP;AACH;;AAED,qBAASG,QAAT,CAAkBtB,IAAlB,EAAwB;AACpBA,qBAAKN,OAAL,CAAa,UAASK,EAAT,EAAa;AACtB/G,yBAAKyD,KAAL,CAAWsD,GAAG,CAAH,CAAX,EAAkBA,GAAG,CAAH,CAAlB,EAAyBjD,IAAzB,GAAgC,OAAhC;AACA9D,yBAAKyD,KAAL,CAAWsD,GAAG,CAAH,CAAX,EAAkBA,GAAG,CAAH,CAAlB,EAAyBhD,QAAzB,GAAoC,CAApC;AACA,wBAAI0B,OAAO,sBAAE,sBAAE,MAAF,EAAUsB,GAAG,CAAH,CAAV,CAAF,CAAX;AACA,wBAAI1B,OAAO,sBAAEI,KAAKC,QAAL,CAAc,MAAd,EAAsBqB,GAAG,CAAH,CAAtB,CAAF,CAAX;AACA1B,yBAAKM,WAAL,CAAiB,aAAjB,EAAgCC,QAAhC,CAAyC,OAAzC;AACH,iBAND;AAOH;;AAED,qBAAS2C,iBAAT,CAA2BJ,KAA3B,EAAkC;AAC9B,oBAAIK,eAAe,CAAnB;AACA,oBAAI1C,IAAI,CAAR;AACA,uBAAOqC,MAAMpC,MAAN,GAAe,CAAtB,EAAyB;AACrB,wBAAIoC,MAAMrC,CAAN,EAASC,MAAT,GAAkBoC,MAAMK,YAAN,EAAoBzC,MAA1C,EAAkD;AAC9CyC,uCAAe1C,CAAf;AACH,qBAFD,MAEO,IAAIqC,MAAMrC,CAAN,EAASC,MAAT,KAAoBoC,MAAMK,YAAN,EAAoBzC,MAA5C,EAAoD;AAEvD,4BAAI0C,uBAAuBzI,KAAK+D,QAAL,CAAcoE,MAAMK,YAAN,CAAd,CAA3B;AACA,4BAAIE,mBAAmB1I,KAAK+D,QAAL,CAAcoE,MAAMrC,CAAN,CAAd,CAAvB;AACA,4BAAI4C,mBAAmBD,oBAAvB,EAA6C;AACzCD,2CAAe1C,CAAf;AACH;AACJ;AACDwC,6BAASH,MAAMK,YAAN,CAAT;AACAL,0BAAMQ,MAAN,CAAaH,YAAb,EAA2B,CAA3B;AACH;AACJ;;AAEDtB;AACA,gBAAIiB,QAAQD,UAAZ;AACA,gBAAIC,MAAMpC,MAAV,EAAkB;AACdwC,kCAAkBJ,KAAlB;AACH;AAEJ;;qCAEDS,iCAAWhC,OAAO;AACd,gBAAI5G,OAAO,IAAX;AACA,gBAAI6I,cAAc,CAAlB;AACA7I,iBAAK0D,UAAL,CAAgBgD,OAAhB,CAAwB,UAASuB,SAAT,EAAoB;AACxC,oBAAIlB,KAAK,CAACH,MAAM,CAAN,IAAWqB,UAAU,CAAV,CAAZ,EAA0BrB,MAAM,CAAN,IAAWqB,UAAU,CAAV,CAArC,CAAT;AACA,oBAAIjI,KAAK8G,YAAL,CAAkBC,EAAlB,CAAJ,EAA2B;AACvB,wBAAI+B,QAAQ9I,KAAKyD,KAAL,CAAWsD,GAAG,CAAH,CAAX,EAAkBA,GAAG,CAAH,CAAlB,EAAyBjD,IAArC;AACA,wBAAIgF,UAAU9I,KAAKiD,MAAnB,EAA2B;AACvB4F;AACH;AACJ,iBALD,MAKO;AACHA;AACH;AACJ,aAVD;AAWA,mBAAOA,WAAP;AACH;;qCAEDE,iEAA4B;AACxB,gBAAIC,SAAS,KAAKxC,UAAL,CAAgB,KAAKtD,OAArB,CAAb;AACA,gBAAI8F,OAAOjD,MAAP,KAAkB,CAAtB,EAAyB;AACrB,oBAAI,KAAK6C,UAAL,CAAgBI,OAAO,CAAP,CAAhB,IAA6B,CAAjC,EAAoC;AAChC1C,4BAAQC,GAAR,CAAY,SAAZ;AACA,2BAAO,IAAP;AACH;AACJ;AACD,mBAAO,KAAP;AACH;;qCAED0C,6BAAU;AAEN,mBAAO,IAAP;AACH;;qCAEDhF,qBAAKI,IAAIC,IAAI;AACTgC,oBAAQ4C,KAAR;AACA,gBAAI,KAAKD,OAAL,CAAa,KAAKhG,MAAlB,CAAJ,EAA+B;AAC3B,oBAAIsB,WAAW,KAAKH,WAAL,CAAiBC,EAAjB,EAAqBC,EAArB,CAAf;AACA,oBAAIC,SAASwB,MAAb,EAAqB;AACjB,yBAAKP,WAAL;AACA,yBAAKK,WAAL,CAAiBtB,QAAjB;AACA,yBAAK0C,wBAAL;AACA,wBAAI,KAAK8B,yBAAL,EAAJ,EAAsC;AAElC,6BAAK5F,IAAL,GAAY,KAAZ;AACA,6BAAK3E,EAAL,CAAQC,OAAR,CAAgB,MAAhB,EAAwB;AACpB,oCAAQ,KADY;AAEpB,sCAAU,KAAKwE;AAFK,yBAAxB;AAIH;AACD,wBAAIkG,WAAW,KAAK3C,UAAL,CAAgB,KAAKtD,OAArB,CAAf;AACA,wBAAIiG,SAASpD,MAAT,KAAoB,CAAxB,EAA2B;AAEvB,6BAAK5C,IAAL,GAAY,KAAZ;AACA,6BAAK3E,EAAL,CAAQC,OAAR,CAAgB,MAAhB,EAAwB;AACpB,oCAAQ,KADY;AAEpB,sCAAU,KAAKwE;AAFK,yBAAxB;AAIH;AACD,yBAAKiB,WAAL;AACA,yBAAK1F,EAAL,CAAQC,OAAR,CAAgB,QAAhB,EAA0B,KAAKwE,MAA/B;AACH,iBAvBD,MAuBO;AACH,yBAAKzE,EAAL,CAAQC,OAAR,CAAgB,MAAhB,EAAwB;AACpB,gCAAQ;AADY,qBAAxB;AAGH;AACJ,aA9BD,MA8BO;AAEH,qBAAKD,EAAL,CAAQC,OAAR,CAAgB,MAAhB,EAAwB;AACpB,4BAAQ,KADY;AAEpB,8BAAU,KAAKyE;AAFK,iBAAxB;AAIH;AACJ;;qCAEDkG,6BAASC,KAAKC,KAAK;AACf,gBAAIC,OAAOD,IAAIE,KAAJ,EAAX;AACAlD,oBAAQC,GAAR,CAAY8C,GAAZ;AACA,iBAAK,IAAIvD,IAAI,CAAb,EAAgBA,IAAIyD,KAAKxD,MAAzB,EAAiCD,GAAjC,EAAsC;AAClCQ,wBAAQmD,KAAR,CAAcF,KAAKzD,CAAL,CAAd;AACH;AACJ;;qCAED4D,mCAAa;AACT,kCAAE,MAAF,EAAU/D,WAAV,CAAsB,aAAtB;AACA,iBAAKlC,KAAL,GAAa,EAAb;AACA,gBAAIwB,SAAS;AACT,wBAAQ,OADC;AAET,4BAAY;AAFH,aAAb;AAIA,iBAAK,IAAIR,IAAI,CAAb,EAAgBA,IAAI,KAAKrB,IAAzB,EAA+BqB,GAA/B,EAAoC;AAChC,qBAAKhB,KAAL,CAAWyB,IAAX,CAAgB,EAAhB;AACA,qBAAK,IAAIR,IAAI,CAAb,EAAgBA,IAAI,KAAKrB,IAAzB,EAA+BqB,GAA/B,EAAoC;AAChC,yBAAKjB,KAAL,CAAWgB,CAAX,EAAcS,IAAd,CAAmBD,MAAnB;AACH;AACJ;AACJ;;qCAGDjC,yBAAQ;AACJ,iBAAK0G,UAAL;AACA,gBAAI,KAAKzG,MAAL,KAAgB,OAApB,EAA6B;AACzB,qBAAKiB,WAAL;AACH;AACD,iBAAKT,KAAL,CAAW,CAAX,EAAc,CAAd,IAAmB;AACf,wBAAQ,OADO;AAEf,4BAAY,KAAKD,cAAL,CAAoB,OAApB;AAFG,aAAnB;AAIA,iBAAKC,KAAL,CAAW,CAAX,EAAc,CAAd,IAAmB;AACf,wBAAQ,OADO;AAEf,4BAAY,KAAKD,cAAL,CAAoB,OAApB;AAFG,aAAnB;AAIA,iBAAKmG,KAAL;AACH;;qCAEDA,yBAAQ;AACJ,iBAAKxG,IAAL,GAAY,IAAZ;AACA,gBAAIoB,WAAW,CACX,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADW,CAAf;AAGA,iBAAKsB,WAAL,CAAiBtB,QAAjB;AACA,iBAAKL,WAAL;AACAK,uBAAW,CACP,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADO,CAAX;AAGA,iBAAKsB,WAAL,CAAiBtB,QAAjB;AACA,iBAAKL,WAAL;AACH;;qCAED9C,+BAAW;AACP,iBAAK4B,KAAL;AAEH;;;;;;;;;;;;;;;;;;;;;QChcQ4G,8BAAAA,8BADZ;AAGG,qCAAY7L,eAAZ,EAA6B;AAAA;;AAAA;;AACzB,iBAAKS,EAAL,GAAUT,eAAV;AACA,iBAAK+K,KAAL,GAAa,OAAb;AACA,iBAAKe,UAAL,GAAkB,IAAlB;AACA,iBAAKrL,EAAL,CAAQK,SAAR,CAAkB,MAAlB,EAA0B,oBAAY;AAClC,wBAAQC,SAASC,IAAjB;AACI,yBAAK,SAAL;AACI,8BAAK+K,YAAL,CAAkB,MAAKC,YAAL,CAAkB,WAAlB,CAAlB;AACA;AACJ,yBAAK,KAAL;AACI,8BAAKF,UAAL,GAAkB,KAAlB;AACA,8BAAKC,YAAL,CAAkB,MAAKC,YAAL,CAAkBjL,SAASyD,MAAT,GAAkB,OAApC,CAAlB;AACA;AACJ,yBAAK,OAAL;AACI,8BAAKS,KAAL;AACA;AACJ;;AAXJ;AAeH,aAhBD;AAiBA,iBAAKxE,EAAL,CAAQK,SAAR,CAAkB,QAAlB,EAA4B,oBAAY;AACpC,oBAAI,MAAKgL,UAAT,EAAqB;AACjB,0BAAKC,YAAL,CAAkB,MAAKC,YAAL,CAAkBjL,WAAW,QAA7B,CAAlB;AACA,0BAAKgK,KAAL,GAAahK,QAAb;AACH;AACJ,aALD;AAMA,iBAAKyG,IAAL,GAAY,cAAZ;AACA,iBAAKyE,SAAL,GAAiB,EAAjB;AACA,iBAAKC,UAAL,GAAkB,CAAC;AACX,wBAAQ,GADG;AAEX,wBAAQ,CAAC,CAAD;AAFG,aAAD,EAId;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB;AAFZ,aAJc,EAQd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB;AAFZ,aARc,EAYd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB;AAFZ,aAZc,EAgBd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB;AAFZ,aAhBc,EAoBd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,CAAjB;AAFZ,aApBc,EAwBd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb;AAFZ,aAxBc,EA4Bd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,CAAjB;AAFZ,aA5Bc,EAgCd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,CAAT,EAAY,CAAZ,EAAe,EAAf;AAFZ,aAhCc,EAoCd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL;AAFZ,aApCc,EAwCd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP,EAAW,EAAX;AAFZ,aAxCc,EA4Cd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB;AAFZ,aA5Cc,EAgDd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,CAAT,EAAY,CAAZ,EAAe,CAAf;AAFZ,aAhDc,EAoDd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,CAAD,EAAI,EAAJ,EAAQ,CAAR,EAAW,EAAX,EAAe,CAAf;AAFZ,aApDc,EAwDd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB;AAFZ,aAxDc,EA4Dd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB;AAFZ,aA5Dc,EAgEd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,CAAjB;AAFZ,aAhEc,EAoEd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB;AAFZ,aApEc,EAwEd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,CAAjB;AAFZ,aAxEc,EA4Ed;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,CAAjB;AAFZ,aA5Ec,EAgFd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB;AAFZ,aAhFc,EAoFd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,CAAT,EAAY,CAAZ,EAAe,EAAf;AAFZ,aApFc,EAwFd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,CAAL,EAAQ,CAAR,EAAW,CAAX,EAAc,EAAd;AAFZ,aAxFc,EA4Fd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,EAAlB;AAFZ,aA5Fc,EAgGd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB;AAFZ,aAhGc,EAoGd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,CAAhB;AAFZ,aApGc,EAwGd;AACI,wBAAQ,GADZ;AAEI,wBAAQ,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB;AAFZ,aAxGc,CAAlB;AA6GA,iBAAKH,YAAL,CAAkB,KAAKC,YAAL,CAAkB,KAAKxE,IAAvB,CAAlB;AACH;;sCAEDvC,yBAAO;AACH,iBAAK8F,KAAL,GAAa,OAAb;AACA,iBAAKe,UAAL,GAAkB,IAAlB;AACA,iBAAKC,YAAL,CAAkB,KAAKC,YAAL,CAAkB,KAAKjB,KAAL,GAAa,QAA/B,CAAlB;AACH;;sCAGDgB,qCAAaE,WAAW;AACpB,iBAAKA,SAAL,GAAiBA,SAAjB;AACH;;sCAGDD,qCAAaG,aAAa;AAAA;;AACtB,qBAASC,OAAT,CAAiBC,GAAjB,EAAsB;AAClB,uBAAO,CAAC,UAAU,CAACA,QAAQ,CAAT,EAAYC,QAAZ,CAAqB,CAArB,CAAX,EAAoCC,MAApC,CAA2C,CAAC,CAA5C,CAAP;AACH;AACD,gBAAIN,YAAY,EAAhB;AACA,gBAAIO,aAAaL,YAAYM,KAAZ,CAAkB,EAAlB,CAAjB;;AALsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,oBAObC,SAPa;;AAQlB,oBAAIC,aAAa,OAAKT,UAAL,CAAgBvC,IAAhB,CAAqB;AAAA,2BAAKhD,EAAEZ,IAAF,KAAW2G,SAAhB;AAAA,iBAArB,CAAjB;AACA,oBAAIE,WAAWD,WAAWE,IAA1B;AACA,oBAAIC,WAAWH,WAAW5G,IAA1B;AACA,sCAAgB6G,QAAhB,yHAA0B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,wBAAjBG,GAAiB;;AACtB,wBAAIC,YAAYZ,QAAQW,GAAR,CAAhB;AACA,wBAAI9B,SAAS,EAAb;AACA,0CAAgB+B,SAAhB,yHAA2B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,4BAAlBnH,GAAkB;;AACvBoF,+BAAO9D,IAAP,CAAYtB,GAAZ;AACH;AACDoG,8BAAU9E,IAAV,CAAe8D,MAAf;AACH;AACDgB,0BAAU9E,IAAV,CAAe,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,CAAf;AAnBkB;;AAOtB,iCAAsBqF,UAAtB,kHAAkC;AAAA;;AAAA;;AAAA;AAajC;AACDP,sBAAUgB,GAAV;AACA,mBAAOhB,SAAP;AACH;;sCAED5I,+BAAW;AACP,iBAAK4I,SAAL,GAAiB,KAAKD,YAAL,CAAkB,KAAKxE,IAAvB,CAAjB;AAEH;;;;;;;;;;;;;;;;;;;;;QCvLQ0F,6BAAAA,6BADZ;AAGG,oCAAYlN,eAAZ,EAA6B;AAAA;;AAAA;;AACzB,iBAAKS,EAAL,GAAUT,eAAV;AACA,iBAAKmN,eAAL,GAAuB,IAAvB;AACA,iBAAK1M,EAAL,CAAQK,SAAR,CAAkB,MAAlB,EAA0B,oBAAY;AAClC,wBAAQC,SAASC,IAAjB;AACI,yBAAK,KAAL;AACI,8BAAKmM,eAAL,GAAuB,IAAvB;AACA;AACJ;;AAJJ;AAOH,aARD;AASH;;qCAEDC,iCAAW;AACP,iBAAK3M,EAAL,CAAQC,OAAR,CAAgB,MAAhB,EAAwB,EAAC,QAAS,OAAV,EAAmB,UAAU,OAA7B,EAAxB;AACA,iBAAKyM,eAAL,GAAuB,KAAvB;AACH;;;;;;;;;;;UC5BW3J,YAAAA;AAAT,WAASA,SAAT,CAAmBE,MAAnB,EAA2B,CAEjC;;;;;;;;;;;;;;;QCFY2J,qBAAAA;AACT,8BAAc;AAAA;;AACV,iBAAKC,kBAAL,GAA0B,KAAKC,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAA1B;AACH;;6BAEDxL,+BAAW;AACPyL,mBAAOtL,gBAAP,CAAwB,UAAxB,EAAoC,KAAKmL,kBAAzC,EAA6D,KAA7D;AACH;;6BAED5K,mCAAa;AACT+K,mBAAO9K,mBAAP,CAA2B,UAA3B,EAAuC,KAAK2K,kBAA5C;AACH;;6BAGDC,uCAAcG,GAAG;AACbnF,oBAAQC,GAAR,CAAYkF,CAAZ;AACH","file":"app-bundle.js","sourcesContent":["import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport {\n    EventAggregator\n} from 'aurelia-event-aggregator';\nimport $ from 'jquery';\n\n@inject(EventAggregator)\nexport class App {\n\n    constructor(eventAggregator) {\n        this.ea = eventAggregator;\n        this.listen2keys = false;\n        this.ea.subscribe('game', response => {\n            switch (response.type) {\n                case 'start':\n                    this.listen2keys = true;\n                    break;\n                case 'win':\n                    this.listen2keys = false;\n                    break;\n                default:\n\n            }\n        });\n        this.message = 'Gopix Raiders';\n        this.keys = {\n            'left': 37,\n            'up': 38,\n            'right': 39,\n            'down': 40\n        };\n        this.scale = \"\";\n        this.touchEvent = {\n            'startX' : null,\n            'startY' : null,\n            'endX' : null,\n            'endY' : null,\n        };\n    }\n\n    handleSwipe() {\n        let thresHold = 50;\n        let startX = this.touchEvent.startX;\n        let startY = this.touchEvent.startY;\n        let dX = this.touchEvent.endX - this.touchEvent.startX;\n        let dY = this.touchEvent.endY - this.touchEvent.startY;\n        let vertical = (Math.abs(dX) < Math.abs(dY));\n        let horizontal = (Math.abs(dX) > Math.abs(dY));\n        let left = (dX < -thresHold && Math.abs(dY) < thresHold);\n        let right = (dX > thresHold && Math.abs(dY) < thresHold);\n        let up = (dY < -thresHold && Math.abs(dX) < thresHold);\n        let down = (dY > thresHold && Math.abs(dX) < thresHold);\n        if (vertical) {\n            if (up) {\n                this.ea.publish('keyPressed', \"up\");\n            }\n            if (down) {\n                this.ea.publish('keyPressed', \"down\");\n            }\n        }\n        if (horizontal) {\n            if (left) {\n                this.ea.publish('keyPressed', \"left\");\n            }\n            if (right) {\n                this.ea.publish('keyPressed', \"right\");\n            }\n        }\n    }\n\n    activate() {\n        let self = this;\n\n        document.addEventListener('keydown', self.handleKeyInput, true);\n\n        $('body').on('touchstart', function(event){\n            if (self.listen2keys) {\n                self.touchEvent.startX = event.originalEvent.touches[0].clientX;\n                self.touchEvent.startY = event.originalEvent.touches[0].clientY;\n            }\n        });\n        $('body').on('touchend', function(event){\n            if (self.listen2keys) {\n                self.touchEvent.endX = event.originalEvent.changedTouches[0].clientX;\n                self.touchEvent.endY = event.originalEvent.changedTouches[0].clientY;\n                self.handleSwipe();\n            }\n        });\n    }\n\n    deactivate() {\n        document.removeEventListener('keydown', this.handleKeyInput);\n        $('body').off('touchstart');\n        $('body').off('touchend');\n    }\n\n    handleKeyInput = (event) => {\n        var keycode = event.keyCode || event.which; // also for cross-browser compatible\n        if (this.listen2keys) {\n            switch (keycode) {\n                case this.keys.left:\n                    this.ea.publish('keyPressed', \"left\");\n                    break;\n                case this.keys.up:\n                    this.ea.publish('keyPressed', \"up\");\n                    break;\n                case this.keys.right:\n                    this.ea.publish('keyPressed', \"right\");\n                    break;\n                case this.keys.down:\n                    this.ea.publish('keyPressed', \"down\");\n                    break;\n                default:\n                    this.ea.publish('keyPressed', \"somekey\");\n            }\n        }\n    }\n\n    getScale() {\n        var screenWidth = $(\"html\").width();\n        var boardWidth = $(\"#gopix\").width();\n        var scale = Math.min(screenWidth / boardWidth, 1);\n\n        scale = Math.floor(scale * 10) / 10;\n        this.scale = scale;\n        return {\n            'transformOrigin': 'top',\n            '-webkit-transform': 'scale(' + scale + ', ' + scale + ')',\n            '-ms-transform': 'scale(' + scale + ', ' + scale + ')',\n            'transform': 'scale(' + scale + ', ' + scale + ')'\n        };\n    }\n\n    setSize() {\n        this.scale = this.getScale();\n        $('board').css(this.scale);\n    }\n\n    attached() {\n        this.setSize();\n        document.addEventListener('resize', this.setSize, true);\n    }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n  longStackTraces: environment.debug,\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport {\n    EventAggregator\n} from 'aurelia-event-aggregator';\n\n@inject(EventAggregator)\nexport class BoardCustomElement {\n\n    constructor(eventAggregator) {\n        this.ea = eventAggregator;\n        this.player = 'white';\n        this.ea.subscribe('player', response => {\n            this.player = response;\n        });\n    }\n\n    logoClass() {\n        return this.player;\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\n\nexport class FooterCustomElement {\n\n    constructor(eventAggregator) {\n        this.showHelpButton = true;\n        this.showHideButton = false;\n        this.showHelpText = false;\n    }\n\n    toggleHelp() {\n        this.showHelpButton = !this.showHelpButton;\n        this.showHideButton = !this.showHideButton;\n        this.showHelpText = !this.showHelpText;\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport {\n    EventAggregator\n} from 'aurelia-event-aggregator';\nimport $ from 'jquery';\n\n@inject(EventAggregator)\nexport class GopixCustomElement {\n\n    constructor(eventAggregator) {\n\n        this.ea = eventAggregator;\n\n        this.ea.subscribe('keyPressed', response => {\n            this.move(response);\n        });\n        this.ea.subscribe('game', response => {\n            switch (response.type) {\n                case 'start':\n                    // this.emptyBoard();\n                    this.reset();\n                    break;\n                default:\n\n            }\n        });\n\n        this.toplay = 'white';\n        this.oponent = 'black';\n        this.game = 'off';\n\n        this.maxX = 11;\n        this.maxY = 11;\n\n        this.maxStrength = 11;\n        this.gainStrength = 0;\n\n        this.playerStrength = {\n            'white': 5,\n            'black': 5\n        }\n\n        this.gopix = [];\n\n        this.neighbours = [\n            [0, -1],\n            [1, 0],\n            [0, 1],\n            [-1, 0]\n        ];\n\n    }\n\n    pixStyle(pix) {\n        let blackCompensation = (pix.name === 'black') ? 1 : 0;\n        return {\n            'borderWidth': (15 - pix.strength - blackCompensation) + 'px'\n        };\n    }\n\n    move(direction) {\n        switch (direction) {\n            case 'left':\n                this.step(-1, 0);\n                break;\n            case 'right':\n                this.step(1, 0);\n                break;\n            case 'up':\n                this.step(0, -1);\n                break;\n            case 'down':\n                this.step(0, 1);\n                break;\n            default:\n        }\n    }\n\n    switchSides() {\n        this.addFruit();\n        [this.oponent, this.toplay] = [this.toplay, this.oponent];\n    }\n\n    getNewPixes(dx, dy) {\n        let newPixes = [];\n        let abortMove = false;\n        for (let y = 0; y < this.maxY; y++) {\n            for (let x = 0; x < this.maxX; x++) {\n                let thisPix = this.gopix[y][x];\n                var newX = x + dx;\n                var newY = y + dy;\n                if (!(newX < 0 || newX >= this.maxX || newY < 0 || newY >= this.maxY)) {\n                    let targetPix = this.gopix[newY][newX];\n                    if (thisPix.name === this.toplay) {\n                        if (targetPix.name !== this.toplay) {\n                            if (targetPix.name == 'lemon') {\n                                let newStrength = thisPix.strength + targetPix.energy + this.gainStrength;\n                                newStrength = newStrength > this.maxStrength ? this.maxStrength : newStrength;\n                                let newPix = [newX, newY, newStrength];\n                                newPixes.push(newPix);\n                            } else {\n                                if (thisPix.strength > targetPix.strength) {\n                                    let newStrength = thisPix.strength + targetPix.strength + this.gainStrength;\n                                    newStrength = newStrength > this.maxStrength ? this.maxStrength : newStrength;\n                                    let newPix = [newX, newY, newStrength];\n                                    newPixes.push(newPix);\n                                }\n                            }\n\n                        }\n                    }\n                }\n            }\n        }\n        return newPixes;\n    }\n\n    copyPix(pix) {\n        return {\n            'name': pix.name,\n            'strength': pix.strength\n        }\n    }\n\n    updatePix($pix, pix) {\n        $pix.css(this.pixStyle(pix));\n        $pix.attr('data-strength', pix.strength);\n        $pix.text(pix.strength);\n    }\n\n    weakenPixes() {\n        // prevent copying by reference\n        for (let y = 0; y < this.maxY; y++) {\n            for (let x = 0; x < this.maxX; x++) {\n                let thisPix = this.copyPix(this.gopix[y][x]);\n                if (thisPix.name === this.toplay) {\n                    let $row = $($('.row')[y]);\n                    let $pix = $($row.children('.pix')[x]);\n                    if (thisPix.strength > 0) {\n                        thisPix.strength--;\n                        this.updatePix($pix, thisPix);\n                    } else {\n                        thisPix.name = 'empty';\n                        $pix.removeClass('black white').addClass('empty');\n                        $pix.attr('data-strength', 0);\n                    }\n                }\n                this.gopix[y][x] = this.copyPix(thisPix);\n            }\n        }\n    }\n\n    addNewPixes(newPixes) {\n        for (var i = 0; i < newPixes.length; i++) {\n            let newPix = {\n                'name': this.toplay,\n                'strength': newPixes[i][2]\n            }\n            this.gopix[newPixes[i][1]][newPixes[i][0]] = this.copyPix(newPix);\n            let $row = $($('.row')[newPixes[i][1]]);\n            let $pix = $($row.children('.pix')[newPixes[i][0]]);\n            $pix.removeClass('empty white black').addClass(this.toplay);\n            this.updatePix($pix, newPix);\n        }\n    }\n\n    addFruit() {\n        let maxEnergy = 5;\n        let fruit = {\n            'name': 'lemon',\n            'strength': 0,\n            'energy': Math.ceil(5 * Math.random())\n        };\n        let y = Math.floor(this.gopix.length * Math.random());\n        let x = Math.floor(this.gopix[0].length * Math.random());\n        this.gopix[y][x] = Object.assign({}, this.gopix[y][x], fruit);\n        console.log(fruit);\n    }\n\n    countPixes(player) {\n        let self = this;\n        let total = [];\n        self.gopix.forEach(function(row) {\n            row.forEach(function(pixel) {\n                if (pixel.name === player) {\n                    total.push([row.indexOf(pixel), self.gopix.indexOf(row)])\n                }\n            });\n        });\n        return total;\n    }\n\n    withinBounds(xy) {\n        return xy[0] >= 0 && xy[1] >= 0 && xy[0] < this.maxX && xy[1] < this.maxY;\n    }\n\n    strength(area) {\n        let self = this;\n        let strength = 0;\n        area.forEach(function(xy) {\n            strength += self.gopix[xy[1]][xy[0]].strength;\n        });\n        return strength;\n    }\n\n    killIsolatedOponentPixes() {\n        let self = this;\n\n        function clearMarks() {\n            self.gopix.forEach(function(row) {\n                row.forEach(function(pixel) {\n                    pixel.marked = false;\n                })\n            });\n        }\n\n        function markPixel(position) {\n            self.gopix[position[1]][position[0]].marked = true;\n            // let $row = $($('.row')[position[1]]);\n            // let $pix = $($row.children('.pix')[position[0]]);\n            // $pix.addClass('red');\n        }\n\n        function findFirstOponentPix() {\n            function firstOponentPix(pix) {\n                let result = (pix.name === self.oponent && !pix.marked);\n                return result;\n            }\n\n            function firstOponentRow(row) {\n                let result = row.find(firstOponentPix);\n                return result;\n            }\n            let startRow = self.gopix.findIndex(firstOponentRow);\n            let startPix = -1;\n            if (startRow > -1) {\n                startPix = self.gopix[startRow].findIndex(firstOponentPix);\n            }\n\n            return [startPix, startRow];\n        }\n\n        function getAdjacentArea(startPos) {\n            let area = [startPos];\n            $('.' + self.toplay).removeClass('red');\n            $('.empty').removeClass('red');\n\n            function countAdjacentPixes(startPos) {\n                self.neighbours.forEach(function(neighbour) {\n                    let xy = [startPos[0] + neighbour[0], startPos[1] + neighbour[1]];\n                    if (self.withinBounds(xy)) {\n                        let thisPix = self.gopix[xy[1]][xy[0]];\n                        if (thisPix.name === self.oponent && !thisPix.marked) {\n                            markPixel(xy)\n                            area.push(xy);\n                            countAdjacentPixes(xy);\n                        }\n                    }\n                });\n            }\n\n            markPixel(startPos);\n            countAdjacentPixes(startPos);\n            // self.logArray('counts cleared', self.gopix);\n\n            return area;\n        }\n\n        function getAreas() {\n            let areas = [];\n            let totalOponentPixes = self.countPixes(self.oponent);\n            let firstOponentPix = findFirstOponentPix();\n            if (firstOponentPix[0] > -1) {\n                let area = getAdjacentArea(firstOponentPix);\n                areas = [area];\n                let areaCount = area.length;\n                while (areaCount < totalOponentPixes.length) {\n                    firstOponentPix = findFirstOponentPix();\n                    area = getAdjacentArea(firstOponentPix);\n                    areas.push(area);\n                    areaCount += area.length;\n                }\n            }\n            return areas;\n        }\n\n        function killArea(area) {\n            area.forEach(function(xy) {\n                self.gopix[xy[1]][xy[0]].name = 'empty';\n                self.gopix[xy[1]][xy[0]].strength = 0;\n                let $row = $($('.row')[xy[1]]);\n                let $pix = $($row.children('.pix')[xy[0]]);\n                $pix.removeClass('black white').addClass('empty');\n            });\n        }\n\n        function killSmallestAreas(areas) {\n            let smallestArea = 0;\n            let i = 1;\n            while (areas.length > 1) {\n                if (areas[i].length < areas[smallestArea].length) {\n                    smallestArea = i;\n                } else if (areas[i].length === areas[smallestArea].length) {\n                    // You can't call the same function in the if comparison CHECK!!\n                    let smallestAreaStrength = self.strength(areas[smallestArea]);\n                    let thisAreaStrength = self.strength(areas[i]);\n                    if (thisAreaStrength < smallestAreaStrength) {\n                        smallestArea = i;\n                    }\n                }\n                killArea(areas[smallestArea]);\n                areas.splice(smallestArea, 1);\n            }\n        }\n\n        clearMarks();\n        let areas = getAreas()\n        if (areas.length) {\n            killSmallestAreas(areas);\n        }\n\n    }\n\n    surrounded(pixel) {\n        let self = this;\n        let surrounders = 0;\n        self.neighbours.forEach(function(neighbour) {\n            let xy = [pixel[0] + neighbour[0], pixel[1] + neighbour[1]];\n            if (self.withinBounds(xy)) {\n                let color = self.gopix[xy[1]][xy[0]].name;\n                if (color === self.toplay) {\n                    surrounders++;\n                }\n            } else {\n                surrounders++;\n            }\n        });\n        return surrounders;\n    }\n\n    killEnclosedSingleOponent() {\n        let pixels = this.countPixes(this.oponent);\n        if (pixels.length === 1) {\n            if (this.surrounded(pixels[0]) > 3) {\n                console.log('yo lost');\n                return true;\n            }\n        }\n        return false;\n    }\n\n    canMove() {\n        // TODO implementeren\n        return true;\n    }\n\n    step(dx, dy) {\n        console.clear();\n        if (this.canMove(this.toplay)) {\n            let newPixes = this.getNewPixes(dx, dy);\n            if (newPixes.length) {\n                this.weakenPixes();\n                this.addNewPixes(newPixes);\n                this.killIsolatedOponentPixes();\n                if (this.killEnclosedSingleOponent()) {\n                    // console.log(this.oponent, 'no pieces');\n                    this.game = 'off';\n                    this.ea.publish('game', {\n                        'type': 'win',\n                        'player': this.toplay\n                    });\n                }\n                let pixCount = this.countPixes(this.oponent);\n                if (pixCount.length === 0) {\n                    // console.log(this.oponent, 'no pieces');\n                    this.game = 'off';\n                    this.ea.publish('game', {\n                        'type': 'win',\n                        'player': this.toplay\n                    });\n                }\n                this.switchSides();\n                this.ea.publish('player', this.toplay);\n            } else {\n                this.ea.publish('game', {\n                    'type': 'illegal'\n                });\n            }\n        } else {\n            // console.log(this.toplay, 'no more moves');\n            this.ea.publish('game', {\n                'type': 'win',\n                'player': this.oponent\n            });\n        }\n    }\n\n    logArray(str, arr) {\n        let arrr = arr.slice();\n        console.log(str);\n        for (var i = 0; i < arrr.length; i++) {\n            console.table(arrr[i]);\n        }\n    }\n\n    emptyBoard() {\n        $('.pix').removeClass('white black');\n        this.gopix = [];\n        let newPix = {\n            \"name\": \"empty\",\n            \"strength\": 0\n        }\n        for (let y = 0; y < this.maxX; y++) {\n            this.gopix.push([]);\n            for (let x = 0; x < this.maxY; x++) {\n                this.gopix[y].push(newPix);\n            }\n        }\n    }\n\n    // setup the board\n    reset() {\n        this.emptyBoard();\n        if (this.toplay === 'black') {\n            this.switchSides();\n        }\n        this.gopix[3][3] = {\n            \"name\": \"white\",\n            \"strength\": this.playerStrength['white']\n        };\n        this.gopix[7][7] = {\n            \"name\": \"black\",\n            \"strength\": this.playerStrength['black']\n        };\n        this.setup();\n    }\n\n    setup() {\n        this.game = 'on';\n        let newPixes = [\n            [3, 3, 5]\n        ];\n        this.addNewPixes(newPixes);\n        this.switchSides();\n        newPixes = [\n            [7, 7, 5]\n        ];\n        this.addNewPixes(newPixes);\n        this.switchSides();\n    }\n\n    attached() {\n        this.reset();\n        // this.setup();\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport {\n    EventAggregator\n} from 'aurelia-event-aggregator';\n\n@inject(EventAggregator)\nexport class HeaderCustomElement {\n\n    constructor(eventAggregator) {\n        this.ea = eventAggregator;\n        this.color = 'white';\n        this.keepMoving = true;\n        this.ea.subscribe('game', response => {\n            switch (response.type) {\n                case 'illegal':\n                    this.setTitleText(this.getTitleData('no can do'));\n                    break;\n                case 'win':\n                    this.keepMoving = false;\n                    this.setTitleText(this.getTitleData(response.player + ' wins'));\n                    break;\n                case 'start':\n                    this.reset();\n                    break;\n                default:\n\n            }\n\n        });\n        this.ea.subscribe('player', response => {\n            if (this.keepMoving) {\n                this.setTitleText(this.getTitleData(response + ' plays'));\n                this.color = response;\n            }\n        });\n        this.text = 'gopix raider';\n        this.titleData = [];\n        this.characters = [{\n                'name': ' ',\n                'data': [0]\n            },\n            {\n                'name': 'a',\n                'data': [31, 31, 20, 20, 15]\n            },\n            {\n                'name': 'b',\n                'data': [31, 31, 21, 21, 11]\n            },\n            {\n                'name': 'c',\n                'data': [14, 31, 17, 17, 10]\n            },\n            {\n                'name': 'd',\n                'data': [31, 31, 17, 17, 14]\n            },\n            {\n                'name': 'e',\n                'data': [31, 31, 21, 21, 1]\n            },\n            {\n                'name': 'f',\n                'data': [31, 31, 20, 20]\n            },\n            {\n                'name': 'g',\n                'data': [14, 31, 17, 21, 7]\n            },\n            {\n                'name': 'h',\n                'data': [31, 31, 4, 4, 15]\n            },\n            {\n                'name': 'i',\n                'data': [31, 15]\n            },\n            {\n                'name': 'j',\n                'data': [2, 1, 31, 30]\n            },\n            {\n                'name': 'k',\n                'data': [31, 31, 12, 6, 11, 17]\n            },\n            {\n                'name': 'l',\n                'data': [31, 31, 1, 1, 1]\n            },\n            {\n                'name': 'm',\n                'data': [7, 28, 8, 28, 7]\n            },\n            {\n                'name': 'n',\n                'data': [31, 31, 12, 6, 15]\n            },\n            {\n                'name': 'o',\n                'data': [14, 31, 17, 17, 14]\n            },\n            {\n                'name': 'p',\n                'data': [31, 31, 20, 20, 8]\n            },\n            {\n                'name': 'q',\n                'data': [14, 31, 17, 18, 13]\n            },\n            {\n                'name': 'r',\n                'data': [31, 31, 20, 22, 9]\n            },\n            {\n                'name': 's',\n                'data': [29, 29, 21, 23, 7]\n            },\n            {\n                'name': 't',\n                'data': [16, 16, 31, 31, 16]\n            },\n            {\n                'name': 'u',\n                'data': [30, 31, 1, 1, 30]\n            },\n            {\n                'name': 'v',\n                'data': [28, 6, 1, 6, 28]\n            },\n            {\n                'name': 'w',\n                'data': [16, 28, 7, 2, 7, 28]\n            },\n            {\n                'name': 'x',\n                'data': [17, 26, 12, 6, 11, 17]\n            },\n            {\n                'name': 'y',\n                'data': [16, 25, 14, 4, 8]\n            },\n            {\n                'name': 'z',\n                'data': [17, 19, 23, 29, 25, 17]\n            }\n        ]\n        this.setTitleText(this.getTitleData(this.text));\n    }\n\n    reset(){\n        this.color = 'white'; // zou niet de verantwoordelijkheid van header moeten zijn\n        this.keepMoving = true;\n        this.setTitleText(this.getTitleData(this.color + ' plays'));\n    }\n\n    // shift new title into header\n    setTitleText(titleData) {\n        this.titleData = titleData;\n    }\n\n    // convert string to colums of pixeldata\n    getTitleData(titleString) {\n        function dec2bin(dec) {\n            return ('00000' + (dec >>> 0).toString(2)).substr(-5);\n        }\n        let titleData = [];\n        let titleSplit = titleString.split('');\n        // console.log(titleSplit);\n        for (let character of titleSplit) {\n            let charObject = this.characters.find(x => x.name === character);\n            let charData = charObject.data;\n            let charName = charObject.name;\n            for (let col of charData) {\n                let binaryCol = dec2bin(col);\n                let pixels = [];\n                for (let pix of binaryCol) {\n                    pixels.push(pix);\n                }\n                titleData.push(pixels);\n            }\n            titleData.push([0,0,0,0,0]); // space\n        }\n        titleData.pop();\n        return titleData;\n    }\n\n    attached() {\n        this.titleData = this.getTitleData(this.text);\n        // console.log(this.titleData);\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport {\n    EventAggregator\n} from 'aurelia-event-aggregator';\n\n@inject(EventAggregator)\nexport class StartCustomElement {\n\n    constructor(eventAggregator) {\n        this.ea = eventAggregator;\n        this.showStartButton = true;\n        this.ea.subscribe('game', response => {\n            switch (response.type) {\n                case 'win':\n                    this.showStartButton = true;\n                    break;\n                default:\n\n            }\n        });\n    }\n\n    startGame(){\n        this.ea.publish('game', {'type' : 'start', 'player': 'white'});\n        this.showStartButton = false;\n    }\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","export class Keystrokes {\n    constructor() {\n        this.myKeypressCallback = this.keypressInput.bind(this);\n    }\n\n    activate() {\n        window.addEventListener('keypress', this.myKeypressCallback, false);\n    }\n\n    deactivate() {\n        window.removeEventListener('keypress', this.myKeypressCallback);\n    }\n\n    // This function is called by the aliased method\n    keypressInput(e) {\n        console.log(e);\n    }\n}\n"],"sourceRoot":"../src"}